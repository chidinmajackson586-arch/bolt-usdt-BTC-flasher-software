import{c as V,J,r as i,K as Z,M as ee,j as e,P as G,N as se,O as te,Q as ae,y as O,e as E,C as v,S as A,a as D,A as ie,m as R,B as f,o as k,I as w,l as C,V as re,W as le,R as ce,L as Y,X as q,Y as B,G as M,b as H,Z as ne,u as de,n as oe,f as xe,g as S,p as he,s as me,t as ue,v as pe,w as U}from"./index-CiR1mdvT.js";import{u as ge}from"./useQuery-BI1ZR5Ft.js";import{T as je,a as be,b as I,c as T}from"./tabs-CoK-9A5k.js";import{C as fe}from"./copy-uKyZ7okw.js";import{C as ye}from"./circle-x-DamgqzN7.js";import{T as L}from"./triangle-alert-Culsrkrh.js";import{T as ve}from"./trash-2-CTs2hsEL.js";import{T as Ne}from"./ThemeToggle-BgkYhonL.js";import{S as we}from"./settings-ClZ_5Gpz.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=V("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=V("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=V("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=V("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);var W="Switch",[Ae,Ke]=J(W),[Ie,Te]=Ae(W),z=i.forwardRef((l,c)=>{const{__scopeSwitch:d,name:o,checked:t,defaultChecked:j,required:u,disabled:r,value:h="on",onCheckedChange:s,form:g,...p}=l,[m,n]=i.useState(null),a=Z(c,F=>n(F)),y=i.useRef(!1),x=m?g||!!m.closest("form"):!0,[b=!1,P]=ee({prop:t,defaultProp:j,onChange:s});return e.jsxs(Ie,{scope:d,checked:b,disabled:r,children:[e.jsx(G.button,{type:"button",role:"switch","aria-checked":b,"aria-required":u,"data-state":_(b),"data-disabled":r?"":void 0,disabled:r,value:h,...p,ref:a,onClick:se(l.onClick,F=>{P(X=>!X),x&&(y.current=F.isPropagationStopped(),y.current||F.stopPropagation())})}),x&&e.jsx(Ee,{control:m,bubbles:!y.current,name:o,value:h,checked:b,required:u,disabled:r,form:g,style:{transform:"translateX(-100%)"}})]})});z.displayName=W;var K="SwitchThumb",$=i.forwardRef((l,c)=>{const{__scopeSwitch:d,...o}=l,t=Te(K,d);return e.jsx(G.span,{"data-state":_(t.checked),"data-disabled":t.disabled?"":void 0,...o,ref:c})});$.displayName=K;var Ee=l=>{const{control:c,checked:d,bubbles:o=!0,...t}=l,j=i.useRef(null),u=te(d),r=ae(c);return i.useEffect(()=>{const h=j.current,s=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(s,"checked").set;if(u!==d&&p){const m=new Event("click",{bubbles:o});p.call(h,d),h.dispatchEvent(m)}},[u,d,o]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:d,...t,tabIndex:-1,ref:j,style:{...l.style,...r,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function _(l){return l?"checked":"unchecked"}var Q=z,Fe=$;const N=i.forwardRef(({className:l,...c},d)=>e.jsx(Q,{className:O("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",l),...c,ref:d,children:e.jsx(Fe,{className:O("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));N.displayName=Q.displayName;function De({userId:l}){const[c,d]=i.useState(!1),[o,t]=i.useState(0),[j,u]=i.useState(""),[r,h]=i.useState(""),[s,g]=i.useState([]),[p,m]=i.useState(!1),{toast:n}=E(),a=async()=>{m(!0);try{const b=await C("POST","/api/auth/2fa/setup",{userId:l||"current"});u(b.secret),g(b.backupCodes),t(1)}catch{n({title:"Setup Failed",description:"Failed to initialize 2FA setup",variant:"destructive"})}finally{m(!1)}},y=async()=>{if(r.length!==6){n({title:"Invalid Code",description:"Please enter a valid 6-digit code",variant:"destructive"});return}m(!0);try{(await C("POST","/api/auth/2fa/verify",{userId:l||"current",code:r})).verified&&(d(!0),t(3),n({title:"2FA Enabled",description:"Two-factor authentication has been successfully enabled"}))}catch{n({title:"Verification Failed",description:"Invalid code. Try: 123456",variant:"destructive"})}finally{m(!1)}},x=b=>{navigator.clipboard.writeText(b),n({title:"Copied",description:"Copied to clipboard"})};return e.jsxs(v,{className:"bg-black/50 border-purple-500/20 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(A,{className:"w-6 h-6 text-purple-400"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-white",children:"Two-Factor Authentication"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Add an extra layer of security to your account"})]})]}),c&&e.jsxs("div",{className:"flex items-center gap-2 text-green-400",children:[e.jsx(D,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Enabled"})]})]}),c?e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-green-900/20 border border-green-500/30 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(D,{className:"w-5 h-5 text-green-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-green-300 font-medium",children:"2FA is Active"}),e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Your account requires a verification code from your authenticator app to sign in"})]})]})}),e.jsxs(f,{variant:"destructive",onClick:()=>{d(!1),t(0),n({title:"2FA Disabled",description:"Two-factor authentication has been disabled",variant:"destructive"})},className:"w-full",children:[e.jsx(ye,{className:"w-4 h-4 mr-2"}),"Disable Two-Factor Authentication"]})]}):e.jsxs(ie,{mode:"wait",children:[o===0&&e.jsx(R.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-blue-900/20 border border-blue-500/30 rounded-lg p-4",children:[e.jsx("h4",{className:"text-blue-300 font-medium mb-2",children:"Why enable 2FA?"}),e.jsxs("ul",{className:"text-gray-400 text-sm space-y-1",children:[e.jsx("li",{children:"• Protects against unauthorized access"}),e.jsx("li",{children:"• Required for withdrawals over $10,000"}),e.jsx("li",{children:"• Prevents account takeover attacks"}),e.jsx("li",{children:"• Industry-standard security practice"})]})]}),e.jsxs(f,{onClick:a,className:"w-full bg-purple-600 hover:bg-purple-700",children:[e.jsx(Pe,{className:"w-4 h-4 mr-2"}),"Enable Two-Factor Authentication"]})]})}),o===1&&e.jsxs(R.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-medium mb-3",children:"Step 1: Install Authenticator App"}),e.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Download Google Authenticator or any compatible TOTP app on your phone"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-medium mb-3",children:"Step 2: Add Secret Key"}),e.jsx("div",{className:"bg-gray-900 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("code",{className:"text-purple-400 font-mono text-sm",children:j}),e.jsx(f,{size:"sm",variant:"ghost",onClick:()=>x(j),children:e.jsx(fe,{className:"w-4 h-4"})})]})}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Enter this key manually in your authenticator app"})]}),e.jsxs("div",{children:[e.jsx(k,{className:"text-white",children:"Enter Verification Code"}),e.jsx(w,{type:"text",placeholder:"000000",value:r,onChange:b=>h(b.target.value),maxLength:6,className:"bg-gray-800 border-gray-600 text-white font-mono text-center text-lg"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(f,{variant:"outline",onClick:()=>t(0),className:"flex-1",children:"Cancel"}),e.jsx(f,{onClick:y,className:"flex-1 bg-purple-600 hover:bg-purple-700",children:"Verify & Enable"})]})]}),o===3&&e.jsxs(R.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"space-y-4",children:[e.jsxs("div",{className:"text-center py-4",children:[e.jsx(D,{className:"w-16 h-16 text-green-400 mx-auto mb-3"}),e.jsx("h4",{className:"text-white font-semibold text-lg",children:"2FA Successfully Enabled!"}),e.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Your account is now protected with two-factor authentication"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-medium mb-3",children:"Backup Codes"}),e.jsx("p",{className:"text-gray-400 text-sm mb-3",children:"Save these codes in a safe place. You can use them to access your account if you lose your phone."}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:s.map((b,P)=>e.jsx("div",{className:"bg-gray-900 rounded p-2 font-mono text-xs text-purple-400 text-center",children:b},P))})]}),e.jsx(f,{onClick:()=>t(0),className:"w-full",variant:"outline",children:"Done"})]})]})]})}function Re({email:l,userId:c}){const[d,o]=i.useState(!1),[t,j]=i.useState(""),[u,r]=i.useState(!1),[h,s]=i.useState(!1),{toast:g}=E(),p=async()=>{s(!0);try{const n=await C("POST","/api/auth/send-verification",{userId:c||"current",email:l||""});r(!0),g({title:"Verification Email Sent",description:`Check your email ${l||"inbox"} for the verification code`}),n.devToken&&console.log("Dev verification token:",n.devToken)}catch{g({title:"Error",description:"Failed to send verification email",variant:"destructive"})}finally{s(!1)}},m=async()=>{if(t.length!==6){g({title:"Invalid Code",description:"Please enter the 6-digit code from your email",variant:"destructive"});return}s(!0);try{(await C("POST","/api/auth/verify-email",{code:t})).verified&&(o(!0),r(!1),g({title:"Email Verified",description:"Your email has been successfully verified"}))}catch{g({title:"Verification Failed",description:"Invalid verification code. Try code: 123456",variant:"destructive"})}finally{s(!1)}};return d?e.jsx("div",{className:"bg-green-900/20 border border-green-500/30 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(D,{className:"w-5 h-5 text-green-400"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-green-300 font-medium",children:"Email Verified"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Your email address has been verified"})]})]})}):e.jsx("div",{className:"bg-yellow-900/20 border border-yellow-500/30 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(re,{className:"w-5 h-5 text-yellow-400 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-yellow-300 font-medium",children:"Email Not Verified"}),e.jsx("p",{className:"text-gray-400 text-sm mb-3",children:"Verify your email to unlock all features and secure your account"}),u?e.jsxs(R.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"space-y-3",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(w,{type:"text",placeholder:"Enter 6-digit code (123456)",value:t,onChange:n=>j(n.target.value),maxLength:6,className:"bg-gray-800 border-gray-600 text-white font-mono",disabled:h}),e.jsx(f,{onClick:m,className:"bg-purple-600 hover:bg-purple-700",disabled:h,children:h?"Verifying...":"Verify"})]}),e.jsxs("button",{onClick:p,className:"text-xs text-purple-400 hover:text-purple-300 flex items-center gap-1",children:[e.jsx(ce,{className:"w-3 h-3"}),"Resend Code"]})]}):e.jsxs(f,{size:"sm",onClick:p,className:"bg-yellow-600 hover:bg-yellow-700",children:[e.jsx(le,{className:"w-4 h-4 mr-2"}),"Send Verification Email"]})]})]})})}function Le({userId:l}){const[c,d]=i.useState(""),[o,t]=i.useState(""),[j,u]=i.useState(!1),[r,h]=i.useState(!1),[s,g]=i.useState(""),[p,m]=i.useState(!1),{toast:n}=E(),a=async()=>{if(c.length<4||c.length>20){n({title:"Invalid Code",description:"Code must be between 4 and 20 characters",variant:"destructive"});return}if(c!==o){n({title:"Codes Don't Match",description:"Please make sure both codes are identical",variant:"destructive"});return}m(!0);try{const x=await C("POST","/api/security/anti-phishing",{userId:l||"current",code:c});g(c),u(!0),d(""),t(""),n({title:"Anti-Phishing Code Set",description:"Your anti-phishing code has been successfully configured"})}catch{n({title:"Setup Failed",description:"Failed to set anti-phishing code",variant:"destructive"})}finally{m(!1)}},y=()=>{u(!1),g(""),n({title:"Anti-Phishing Disabled",description:"Anti-phishing protection has been disabled",variant:"destructive"})};return e.jsxs(v,{className:"bg-black/50 border-purple-500/20 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(A,{className:"w-6 h-6 text-purple-400"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-white",children:"Anti-Phishing Code"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Protect yourself from phishing emails"})]})]}),j&&e.jsxs("div",{className:"flex items-center gap-2 text-green-400",children:[e.jsx(Y,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Protected"})]})]}),j?e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-green-900/20 border border-green-500/30 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Y,{className:"w-5 h-5 text-green-400 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-green-300 font-medium",children:"Anti-Phishing Active"}),e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Your code will appear in all official emails from us"}),e.jsxs("div",{className:"mt-3 p-2 bg-gray-900 rounded",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Your Code:"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("code",{className:"text-purple-400 font-mono",children:r?s:"••••••••"}),e.jsx("button",{onClick:()=>h(!r),className:"text-gray-400 hover:text-white",children:r?e.jsx(q,{className:"w-4 h-4"}):e.jsx(B,{className:"w-4 h-4"})})]})]})]})]})}),e.jsx("div",{className:"bg-yellow-900/20 border border-yellow-500/30 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(L,{className:"w-4 h-4 text-yellow-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-yellow-300 font-medium text-sm",children:"Security Reminder"}),e.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"Never share your anti-phishing code with anyone. We will never ask for it."})]})]})}),e.jsx(f,{variant:"destructive",onClick:y,className:"w-full",children:"Disable Anti-Phishing Code"})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-blue-900/20 border border-blue-500/30 rounded-lg p-4",children:[e.jsx("h4",{className:"text-blue-300 font-medium mb-2",children:"What is Anti-Phishing Code?"}),e.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"A unique code that appears in all genuine emails from us. This helps you identify:"}),e.jsxs("ul",{className:"text-gray-400 text-sm space-y-1",children:[e.jsx("li",{children:"• Authentic emails from Bolt Flasher"}),e.jsx("li",{children:"• Protection against phishing attempts"}),e.jsx("li",{children:"• Secure communication verification"})]})]}),e.jsxs("div",{children:[e.jsx(k,{className:"text-white",children:"Create Your Anti-Phishing Code"}),e.jsxs("div",{className:"relative",children:[e.jsx(w,{type:r?"text":"password",value:c,onChange:x=>d(x.target.value),placeholder:"Enter 4-20 characters",className:"bg-gray-800 border-gray-600 text-white pr-10"}),e.jsx("button",{type:"button",onClick:()=>h(!r),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white",children:r?e.jsx(q,{className:"w-4 h-4"}):e.jsx(B,{className:"w-4 h-4"})})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Use a memorable phrase that only you know"})]}),e.jsxs("div",{children:[e.jsx(k,{className:"text-white",children:"Confirm Your Code"}),e.jsx(w,{type:r?"text":"password",value:o,onChange:x=>t(x.target.value),placeholder:"Re-enter your code",className:"bg-gray-800 border-gray-600 text-white"})]}),e.jsxs(f,{onClick:a,className:"w-full bg-purple-600 hover:bg-purple-700",children:[e.jsx(A,{className:"w-4 h-4 mr-2"}),"Enable Anti-Phishing Code"]})]})]})}function Ve({userId:l}){const[c,d]=i.useState(!1),[o,t]=i.useState(""),[j,u]=i.useState(""),[r,h]=i.useState([{id:"1",address:"192.168.1.1",label:"Home Network",addedAt:new Date(Date.now()-1e3*60*60*24*7),lastUsed:new Date,isCurrent:!0},{id:"2",address:"10.0.0.1",label:"Office VPN",addedAt:new Date(Date.now()-1e3*60*60*24*30),lastUsed:new Date(Date.now()-1e3*60*60*24*2)}]),{toast:s}=E(),g=a=>/^(\d{1,3}\.){3}\d{1,3}$/.test(a)?a.split(".").every(b=>{const P=parseInt(b);return P>=0&&P<=255}):!1,p=async()=>{if(!g(o)){s({title:"Invalid IP Address",description:"Please enter a valid IP address (e.g., 192.168.1.1)",variant:"destructive"});return}if(!j.trim()){s({title:"Label Required",description:"Please provide a label for this IP address",variant:"destructive"});return}try{await C("POST","/api/security/ip-whitelist",{userId:l||"current",ipAddress:o});const a={id:Date.now().toString(),address:o,label:j,addedAt:new Date};h([...r,a]),t(""),u(""),s({title:"IP Address Added",description:`${o} has been added to your whitelist`})}catch{s({title:"Failed to Add IP",description:"Could not add IP address to whitelist",variant:"destructive"})}},m=async a=>{const y=r.find(x=>x.id===a);if(y)try{await C("DELETE","/api/security/ip-whitelist",{userId:l||"current",ipAddress:y.address}),h(r.filter(x=>x.id!==a)),s({title:"IP Address Removed",description:"The IP address has been removed from your whitelist"})}catch{s({title:"Failed to Remove IP",description:"Could not remove IP address from whitelist",variant:"destructive"})}},n=a=>{d(a),s({title:a?"IP Whitelist Enabled":"IP Whitelist Disabled",description:a?"Only whitelisted IP addresses can access your account":"IP whitelist protection has been disabled",variant:a?"default":"destructive"})};return e.jsxs(v,{className:"bg-black/50 border-purple-500/20 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(M,{className:"w-6 h-6 text-purple-400"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-white",children:"IP Whitelist"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Restrict account access to specific IP addresses"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(k,{htmlFor:"ip-whitelist-toggle",className:"text-gray-400 text-sm",children:c?"Enabled":"Disabled"}),e.jsx(N,{id:"ip-whitelist-toggle",checked:c,onCheckedChange:n})]})]}),c&&e.jsx("div",{className:"bg-yellow-900/20 border border-yellow-500/30 rounded-lg p-3 mb-4",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(L,{className:"w-4 h-4 text-yellow-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-yellow-300 font-medium text-sm",children:"Warning"}),e.jsx("p",{className:"text-gray-400 text-xs",children:"Make sure to add your current IP address before enabling. You may lock yourself out otherwise."})]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-4",children:[e.jsx("h4",{className:"text-white font-medium mb-3",children:"Add IP Address"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsx(w,{type:"text",placeholder:"192.168.1.1",value:o,onChange:a=>t(a.target.value),className:"bg-gray-800 border-gray-600 text-white"}),e.jsx(w,{type:"text",placeholder:"Label (e.g., Home)",value:j,onChange:a=>u(a.target.value),className:"bg-gray-800 border-gray-600 text-white"}),e.jsxs(f,{onClick:p,className:"bg-purple-600 hover:bg-purple-700",children:[e.jsx(ke,{className:"w-4 h-4 mr-2"}),"Add IP"]})]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Your current IP: ",e.jsx("span",{className:"text-purple-400 font-mono",children:"192.168.1.1"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-white font-medium",children:"Whitelisted IP Addresses"}),r.length===0?e.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-8 text-center",children:[e.jsx(M,{className:"w-12 h-12 text-gray-600 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-400",children:"No IP addresses whitelisted"}),e.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Add your first IP address above"})]}):e.jsx("div",{className:"space-y-2",children:r.map(a=>e.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-3 flex items-center justify-between hover:border-purple-500/30 border border-transparent transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-600/20 rounded-lg flex items-center justify-center",children:e.jsx(M,{className:"w-5 h-5 text-purple-400"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-white font-mono text-sm",children:a.address}),a.isCurrent&&e.jsx(H,{className:"bg-green-500/20 text-green-400 border-green-500/30 text-xs",children:"Current"})]}),e.jsx("p",{className:"text-gray-400 text-xs",children:a.label}),e.jsxs("p",{className:"text-gray-500 text-xs",children:["Added ",a.addedAt.toLocaleDateString(),a.lastUsed&&` • Last used ${a.lastUsed.toLocaleDateString()}`]})]})]}),e.jsx(f,{size:"sm",variant:"ghost",onClick:()=>m(a.id),className:"text-red-400 hover:text-red-300 hover:bg-red-900/20",children:e.jsx(ve,{className:"w-4 h-4"})})]},a.id))})]}),e.jsx("div",{className:"bg-blue-900/20 border border-blue-500/30 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(A,{className:"w-4 h-4 text-blue-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-300 font-medium text-sm",children:"Security Note"}),e.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"IP whitelisting adds an extra layer of security but may be inconvenient if your IP changes frequently. Always keep at least one trusted IP in your whitelist."})]})]})})]})]})}function Me(){const[l,c]=i.useState([{id:"1",timestamp:new Date(Date.now()-3e5),ipAddress:"192.168.1.1",location:"New York, USA",device:"Windows PC",browser:"Chrome 120",status:"success"},{id:"2",timestamp:new Date(Date.now()-72e5),ipAddress:"10.0.0.1",location:"London, UK",device:"MacBook Pro",browser:"Safari 17",status:"success"},{id:"3",timestamp:new Date(Date.now()-864e5),ipAddress:"172.16.0.1",location:"Unknown",device:"Unknown",browser:"Unknown",status:"failed"}]),d=t=>{switch(t){case"success":return"bg-green-500";case"failed":return"bg-red-500";case"suspicious":return"bg-yellow-500";default:return"bg-gray-500"}},o=t=>{switch(t){case"success":return e.jsx(A,{className:"w-4 h-4"});case"failed":return e.jsx(L,{className:"w-4 h-4"});case"suspicious":return e.jsx(L,{className:"w-4 h-4"});default:return null}};return e.jsxs(v,{className:"bg-black/50 border-purple-500/20 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-white",children:"Login History"}),e.jsx(H,{className:"bg-green-500/20 text-green-400 border-green-500/30",children:"Secure Account"})]}),e.jsx("div",{className:"space-y-4",children:l.map(t=>e.jsx("div",{className:"bg-gray-900/50 border border-gray-800 rounded-lg p-4 hover:border-purple-500/30 transition-colors",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${d(t.status)}`}),e.jsx("span",{className:"text-white font-medium",children:t.status==="success"?"Successful Login":t.status==="failed"?"Failed Attempt":"Suspicious Activity"}),o(t.status)]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[e.jsx(ne,{className:"w-3 h-3"}),e.jsx("span",{children:t.timestamp.toLocaleString()})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[e.jsx(Ce,{className:"w-3 h-3"}),e.jsx("span",{children:t.location})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[e.jsx(Se,{className:"w-3 h-3"}),e.jsx("span",{children:t.device})]}),e.jsx("div",{className:"flex items-center gap-2 text-gray-400",children:e.jsxs("span",{className:"text-xs",children:["IP: ",t.ipAddress]})})]})]}),t.status==="suspicious"&&e.jsx("button",{className:"text-red-400 hover:text-red-300 text-sm",children:"Report"})]})},t.id))}),e.jsx("div",{className:"mt-6 p-4 bg-blue-900/20 border border-blue-500/30 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(A,{className:"w-5 h-5 text-blue-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-300 font-medium text-sm",children:"Security Tip"}),e.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"If you see any suspicious login attempts, enable 2FA immediately and change your password."})]})]})})]})}function $e(){const[l,c]=i.useState(!0),[d,o]=i.useState(""),[t,j]=i.useState("1.0"),[u,r]=i.useState(""),{toast:h}=E(),{user:s}=de(),g=oe(),{data:p}=ge({queryKey:["/api/admin/gas-receiver"],enabled:(s==null?void 0:s.username)==="admin"}),m=xe({mutationFn:async x=>await C("POST","/api/admin/gas-receiver",{address:x}),onSuccess:()=>{g.invalidateQueries({queryKey:["/api/admin/gas-receiver"]}),g.invalidateQueries({queryKey:["/api/gas-fees"]}),h({title:"Gas Receiver Updated",description:"Gas receiver address has been updated successfully"}),r("")},onError:x=>{h({title:"Update Failed",description:x.message||"Failed to update gas receiver address",variant:"destructive"})}});i.useEffect(()=>{p!=null&&p.address&&r(p.address)},[p]);const n=()=>{h({title:"Settings Saved",description:"Your settings have been saved successfully"})},a=()=>{h({title:"Change Password",description:"Password change feature will be implemented"})},y=()=>{h({title:"Clear Data",description:"Application data cleared successfully",variant:"destructive"})};return e.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center gap-3",children:[e.jsx(we,{className:"w-8 h-8 text-purple-400"}),"Settings"]}),e.jsx(Ne,{})]}),e.jsxs(je,{defaultValue:"general",className:"space-y-6",children:[e.jsxs(be,{className:"grid grid-cols-5 w-full bg-black/50",children:[e.jsx(I,{value:"general",children:"General"}),e.jsx(I,{value:"security",children:"Security"}),e.jsx(I,{value:"network",children:"Network"}),e.jsx(I,{value:"activity",children:"Activity"}),e.jsx(I,{value:"advanced",children:"Advanced"})]}),e.jsxs(T,{value:"general",className:"space-y-6",children:[e.jsx(Re,{email:s==null?void 0:s.email,userId:s==null?void 0:s.id}),e.jsx(v,{className:"bg-black/50 border-purple-500/20",children:e.jsxs(S,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Appearance"}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:"Dark Mode"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Use dark theme across the application"})]}),e.jsx(N,{checked:l,onCheckedChange:c})]})})]})}),e.jsx(v,{className:"bg-black/50 border-purple-500/20",children:e.jsxs(S,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"About"}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-400",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Version:"})," 2.5.0"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Build:"})," 20250108-001"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Developer:"})," Henryphilipbolt"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Contact:"})," henryphilipbolt@boltflasher.live"]}),e.jsx("div",{className:"pt-2",children:e.jsxs("button",{onClick:()=>window.open("https://t.me/Henryphilipbolt","_blank"),className:"text-purple-400 hover:text-purple-300",children:[e.jsx("i",{className:"fab fa-telegram mr-2"}),"Telegram Support"]})})]})]})})]}),e.jsxs(T,{value:"security",className:"space-y-6",children:[e.jsx(De,{userId:s==null?void 0:s.id}),e.jsx(Le,{userId:s==null?void 0:s.id}),e.jsx(Ve,{userId:s==null?void 0:s.id}),e.jsx(v,{className:"bg-black/50 border-purple-500/20",children:e.jsxs(S,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Account Security"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(f,{onClick:a,className:"w-full bg-yellow-500 text-yellow-950 dark:text-black hover:bg-yellow-600",children:"Change Password"}),e.jsx(f,{onClick:y,variant:"destructive",className:"w-full",children:"Clear Application Data"})]})]})})]}),e.jsxs(T,{value:"network",className:"space-y-6",children:[e.jsx(v,{className:"bg-black/50 border-purple-500/20",children:e.jsxs(S,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Network Settings"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(k,{htmlFor:"customRpc",className:"text-white",children:"Custom RPC URL"}),e.jsx(w,{id:"customRpc",type:"url",value:d,onChange:x=>o(x.target.value),className:"bg-gray-800 border-gray-600 text-white",placeholder:"https://your-custom-rpc-url.com"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Enter a custom RPC endpoint for blockchain interactions"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(k,{htmlFor:"gasMultiplier",className:"text-white",children:"Gas Price Multiplier"}),e.jsxs(he,{value:t,onValueChange:j,children:[e.jsx(me,{className:"bg-gray-800 border-gray-600 text-white",children:e.jsx(ue,{})}),e.jsxs(pe,{children:[e.jsx(U,{value:"1.0",children:"1.0x (Default)"}),e.jsx(U,{value:"1.1",children:"1.1x (Faster)"}),e.jsx(U,{value:"1.2",children:"1.2x (Fastest)"})]})]})]}),e.jsx(f,{onClick:n,className:"w-full bg-purple-600 hover:bg-purple-700",children:"Save Network Settings"})]})]})}),(s==null?void 0:s.username)==="admin"&&e.jsx(v,{className:"bg-black/50 border-purple-500/20",children:e.jsxs(S,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Admin - Gas Fee Settings"}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(k,{htmlFor:"gasReceiver",className:"text-white",children:"Gas Fee Receiver Address"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(w,{id:"gasReceiver",type:"text",value:u,onChange:x=>r(x.target.value),className:"bg-gray-800 border-gray-600 text-white",placeholder:"0x..."}),e.jsx(f,{onClick:()=>m.mutate(u),disabled:m.isPending||!u||u===(p==null?void 0:p.address),className:"px-6 bg-purple-600 hover:bg-purple-700",children:m.isPending?"Updating...":"Update"})]}),e.jsx("p",{className:"text-xs text-gray-400",children:"Configure the wallet address where gas fees will be collected"})]})})]})})]}),e.jsx(T,{value:"activity",className:"space-y-6",children:e.jsx(Me,{})}),e.jsxs(T,{value:"advanced",className:"space-y-6",children:[e.jsx(v,{className:"bg-black/50 border-purple-500/20",children:e.jsxs(S,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Developer Options"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:"Debug Mode"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Enable detailed console logging"})]}),e.jsx(N,{})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:"Performance Monitoring"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Track application performance metrics"})]}),e.jsx(N,{})]})]})]})}),e.jsx(v,{className:"bg-black/50 border-purple-500/20",children:e.jsxs(S,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Experimental Features"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:"WebSocket Real-time Updates"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Enable live transaction updates"})]}),e.jsx(N,{})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:"Batch Transactions"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Send multiple transactions at once"})]}),e.jsx(N,{})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:"Auto-Retry Failed Transactions"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Automatically retry failed transactions"})]}),e.jsx(N,{})]})]})]})})]})]})]})}export{$e as default};
